import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,o as l}from"./app-DIzvt8QC.js";const h="/BlogSite/assets/images/work/ics/oj-crash-debug/cpu-ram.png",e="/BlogSite/assets/images/work/ics/oj-crash-debug/network.png",k="/BlogSite/assets/images/work/ics/oj-crash-debug/io.png",t="/BlogSite/assets/images/work/ics/oj-crash-debug/parallel-iotop.png",p={};function r(d,s){return l(),a("div",null,s[0]||(s[0]=[n('<h1 id="评测服务器崩溃调试" tabindex="-1"><a class="header-anchor" href="#评测服务器崩溃调试"><span>评测服务器崩溃调试</span></a></h1><p>封面为此时的心理状态 😞。​<br> 搭建的评测服务器在实际运行过程中屡次出现IO利用过高，系统卡死的情况。由于模拟并发的困难，于是按照网路上搜寻到的方法，进行了若干次无法验证的尝试，包括但不限于：减少 gunicorn worker 数量、改用 gevent 模式。不幸的是，服务器仍于2024年10月15日17时15分再次崩溃。痛定思痛，决定对产生问题的根源进行彻查。</p><h2 id="crashing-snapshot" tabindex="-1"><a class="header-anchor" href="#crashing-snapshot"><span>Crashing Snapshot</span></a></h2><h3 id="server-monitor" tabindex="-1"><a class="header-anchor" href="#server-monitor"><span>Server Monitor</span></a></h3><p>截取崩溃瞬时前后的服务器资源占用情况如下（from 17:14 to 17:20）：</p><details class="hint-container details"><summary>Expand to see details</summary><p><img src="'+h+'" alt="cpu and ram" loading="lazy"><br><img src="'+e+'" alt="network" loading="lazy"><br><img src="'+k+`" alt="io" loading="lazy"></p></details><p>在崩溃瞬间（17:15:50）首先是存在一个 write 峰值（23807KB/s，wIOPS = 327）。随后进入稳定的卡死状态：CPU、RAM 监视信息缺失；<strong>硬盘读流量居高不下，读IOPS高、服务时间短</strong>；硬盘写流量为0；硬盘等待时间 10-25ms，繁忙比率100%；网络几乎断开，在 17:40 有过短暂的出流量，共计1.318MB。</p><h3 id="gunicorn-log" tabindex="-1"><a class="header-anchor" href="#gunicorn-log"><span>Gunicorn Log</span></a></h3><p>截取对应时间段的 gunicorn debug.log 如下：</p><details class="hint-container details"><summary>Expand to see details</summary><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[2024-10-15 17:15:34 +0800] [463796] [DEBUG] GET /oj/ICS2024/PA1/src/bootstrap.min.js</span></span>
<span class="line"><span>[2024-10-15 17:16:34 +0800] [463801] [DEBUG] GET /oj/ICS2024/PA1/8XWUE5GV</span></span>
<span class="line"><span>[2024-10-15 17:16:34 +0800] [463813] [DEBUG] GET /oj/ICS2024/PA1/8XWUE5GV</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463796] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463814] [DEBUG] GET /oj/ICS2024/PA1/8XWUE5GV</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463796] [DEBUG] GET /oj/ICS2024/PA1/seJAotOr</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463814] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463813] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463801] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463814] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463814] [DEBUG] GET /oj/ICS2024/PA1/seJAotOr</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463813] [DEBUG] GET /oj/ICS2024/PA1/seJAotOr</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463801] [DEBUG] GET /oj/ICS2024/PA1/seJAotOr</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463814] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463796] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463813] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463801] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463813] [DEBUG] GET /oj/ICS2024/PA1/8XWUE5GV</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463814] [DEBUG] GET /oj/ICS2024/PA1/seJAotOr</span></span>
<span class="line"><span>[2024-10-15 17:40:40 +0800] [463801] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463796] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463796] [DEBUG] Ignoring connection reset</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463801] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463801] [DEBUG] Ignoring connection reset</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463801] [DEBUG] GET /oj/ICS2024/Lab1/6ovec4ju</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463814] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463814] [DEBUG] GET /oj/ICS2024/Lab1/6ovec4ju</span></span>
<span class="line"><span>... [hundreds of similar connections]</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463801] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463813] [DEBUG] GET /oj/ICS2024/PA1/src/bootstrap.min.js</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463814] [DEBUG] GET /oj/ICS2024/PA1/src/bootstrap.min.css</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463813] [DEBUG] GET /oj/ICS2024/PA1/src/bootstrap.min.js</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463813] [DEBUG] GET /oj/ICS2024/PA1/src/bootstrap.min.css</span></span>
<span class="line"><span>[2024-10-15 17:40:41 +0800] [463813] [DEBUG] GET /oj/ICS2024/PA1/src/bootstrap.min.js</span></span>
<span class="line"><span>[2024-10-15 17:40:46 +0800] [463801] [DEBUG] Ignoring EPIPE</span></span>
<span class="line"><span>[2024-10-15 17:42:53 +0800] [463813] [DEBUG] GET /favicon.ico</span></span>
<span class="line"><span>[2024-10-15 17:42:54 +0800] [463814] [DEBUG] Closing connection.</span></span>
<span class="line"><span>[2024-10-15 17:54:20 +0800] [463763] [ERROR] Worker (pid:463813) was sent SIGKILL! Perhaps out of memory?</span></span>
<span class="line"><span>[2024-10-15 17:54:20 +0800] [463763] [CRITICAL] WORKER TIMEOUT (pid:463796)</span></span>
<span class="line"><span>[2024-10-15 17:54:20 +0800] [463763] [CRITICAL] WORKER TIMEOUT (pid:463801)</span></span>
<span class="line"><span>[2024-10-15 17:54:22 +0800] [463763] [CRITICAL] WORKER TIMEOUT (pid:463814)</span></span>
<span class="line"><span>[2024-10-15 17:54:39 +0800] [2204630] [INFO] Booting worker with pid: 2204630</span></span>
<span class="line"><span>[2024-10-15 17:54:39 +0800] [463763] [ERROR] Worker (pid:463796) was sent SIGKILL! Perhaps out of memory?</span></span>
<span class="line"><span>[2024-10-15 17:54:39 +0800] [463763] [ERROR] Worker (pid:463801) was sent SIGKILL! Perhaps out of memory?</span></span>
<span class="line"><span>[2024-10-15 17:54:39 +0800] [463763] [ERROR] Worker (pid:463814) was sent SIGKILL! Perhaps out of memory?</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>在 17:15 左右，并没有异常信息；而在 17:40:40 - 17:40:41，短短2秒内，出现了上百个连接，且都是与结果查询界面有关。显然，不可能有这么多 client 在几乎一瞬间发出这么多查询请求：这多半是某种事件队列累积的结果。</p><h2 id="analysis" tabindex="-1"><a class="header-anchor" href="#analysis"><span>Analysis</span></a></h2><h3 id="write-rate" tabindex="-1"><a class="header-anchor" href="#write-rate"><span>Write Rate</span></a></h3><p>通过 server monitor 的记录可以判断，是某个异常的 write 操作，引发了 crash。但该操作的 write 特征并不显著：write rate = 23807KB/s，wIOPS = 327，这并没有偏离正常区间太多，并且在正常运行时，也会有类似的极值点。</p><h3 id="read-rate" tabindex="-1"><a class="header-anchor" href="#read-rate"><span>Read Rate</span></a></h3><p>同时，值得注意的是，所有可能的请求，都只产生了 write 流量，而在系统卡死后，却只有 read 流量。这个流量大概率不是进程正常运行的结果，如果能找出该进程，或许能反向推导出 crash 原因。</p><p>在 iotop 中，大部分进程的 read rate 都是 0，唯有 YDservice 会产生 1-3MB/s 的 read rate。这是腾讯云服务器的监控进程。网路上关于它的评价也只有“占用资源”，并未见“导致崩溃”，故暂不对其进行测试。</p><h2 id="test-reproduce" tabindex="-1"><a class="header-anchor" href="#test-reproduce"><span>Test &amp; Reproduce</span></a></h2><p>这里对文件上传、评测结果查询和 docker run 进行测试。</p><p>由于涉及非 web API 的测试，以及涉及通过脚本执行上传任务，传统的 http_load、ab 等工具并不适用。这里选用 <a href="https://en.wikipedia.org/wiki/GNU_parallel" target="_blank" rel="noopener noreferrer">GNU parallel</a> 来模拟并发。</p><blockquote><p>parallel 也可用于并行化命令，例如并行化 <code>find -name -exec</code> 中的 exec 部分。</p></blockquote><h3 id="file-upload" tabindex="-1"><a class="header-anchor" href="#file-upload"><span>File Upload</span></a></h3><p>通过模拟 <a href="http://175.24.131.173:8080/static/submit.sh" target="_blank" rel="noopener noreferrer">submit.sh</a> 中的提交过程，使用如下 command 模拟并发上传文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parallel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --jobs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;token=DIBYHMnd&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;course=ICS2024&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;module=PA1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;file=@upload.tar.bz2&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://175.24.131.173:8080/upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :::</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {1..8}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># equals to</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">seq</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parallel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --jobs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;token=DIBYHMnd&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;course=ICS2024&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;module=PA1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;file=@upload.tar.bz2&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://175.24.131.173:8080/upload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参数解释：</p><ul><li>-n0：args 不作为参数传递给实际的指令，显然，我们并不想将 index 传参给 curl 命令；</li><li>--jobs：parallel 默认会产生与 CPU 核心数相同数目的并发进程，通过 jobs 可以显式修改；</li><li>所有进程执行 command 的总次数是由传递给 parallel 的参数个数决定的。也就是说，这里的 seq 8、:::{1..8} 可以替换为任何输出个数为 8 的命令。</li></ul><p>输出结果如下：</p><details class="hint-container details"><summary>Expand to see details</summary><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[SUCC ✓] Received qtigP4RhEjPNlRUz at 2024-10-16 16:44:44</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9059k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9058k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     63</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  8381k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 8387k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[SUCC ✓] Received 8CDd1jUa8JSY7Nn3 at 2024-10-16 16:44:44</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9059k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9058k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     59</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  7837k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7843k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[SUCC ✓] Received sRI7HlL0800SwhTF at 2024-10-16 16:44:44</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9059k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9058k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     55</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  7284k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7288k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[SUCC ✓] Received HYi9C5NFhrFkg31b at 2024-10-16 16:44:44</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9059k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9058k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     55</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  7232k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7235k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[SUCC ✓] Received aRqFfhx97fN3gqAS at 2024-10-16 16:44:44</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9059k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9058k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     54</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  7117k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7121k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[SUCC ✓] Received 4RHLZwKBwem6IpE0 at 2024-10-16 16:44:44</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9059k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9058k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     54</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  7115k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7116k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[SUCC ✓] Received RX6P2OkVVO5BkFjO at 2024-10-16 16:44:44</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9059k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9058k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     53</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  7060k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 7060k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[SUCC ✓] Received gU1oRySJzmB017k4 at 2024-10-16 16:44:44</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9059k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    69</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9058k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     52</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  6865k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:01</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 6868k</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>这里使用了一个 11.8 MB 的文件作为测试，考虑到12MB 的上传限制，理应超过了现阶段的绝大部分提交。后续还测试了 32 并发，结果类似。在 8 并发下查看 iotop 可以发现，write rate 已经达到了一个相当大的值，但仍然可以正常处理。</p><figure><img src="`+t+`" alt="iotop info" tabindex="0" loading="lazy"><figcaption>iotop info</figcaption></figure><p>尝试使用超出大小限制的文件，也能够得到预期的 reject：</p><details class="hint-container details"><summary>Expand to see details</summary><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[FAIL ✗] File is too large!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 15.8M</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  157k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    521</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  2101k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:07</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:07</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2124k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[FAIL ✗] File is too large!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 15.8M</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  128k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    513</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  1684k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:09</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:09</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1707k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[FAIL ✗] File is too large!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 15.8M</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  243k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    474</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  2963k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:05</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:05</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 2971k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[FAIL ✗] File is too large!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 15.8M</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  271k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    489</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  3401k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3432k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[FAIL ✗] File is too large!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 15.8M</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  267k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    481</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  3299k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:04</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3340k</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[FAIL ✗] File is too large!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 15.8M</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    481</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   481</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[FAIL ✗] File is too large!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 15.8M</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">     0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    469</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   469</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[FAIL ✗] File is too large!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Received</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Xferd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Average</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Speed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     Time</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Current</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                                 Dload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Upload</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Total</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   Spent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    Left</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  Speed</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 15.8M</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  100</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    39</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    0</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  145k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    430</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  1604k</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:10</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --:--:--</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  0:00:10</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1615k</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><p>由此可以判断，文件上传服务不会引起服务器崩溃。</p><h3 id="result-query" tabindex="-1"><a class="header-anchor" href="#result-query"><span>Result Query</span></a></h3><p>类似的，采用如下命令，模拟评测结果并发查询。由于 curl client 没有缓存，server 端是我自己写的，也没有缓存，所以大可以使用相同 token 进行查询。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">seq</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parallel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --jobs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> curl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://175.24.131.173/oj/ICS2024/PA1/seJAotOr</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>结果并未引发崩溃。</p><h3 id="docker-run" tabindex="-1"><a class="header-anchor" href="#docker-run"><span>Docker Run</span></a></h3><p>评测是串行过程，不可能存在并发。保险起见，使用如下命令强行创建 2 并发评测进程，进行测试：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;daemon[1-9].py&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parallel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>其中，因为 daemon.py 通过 fcntl.flock(fp.fileno(), fcntl.LOCK_EX | fcntl.LOCK_NB) 设置了并发锁，所以使用了 daemon.py 的两份 copy；{ } 表示将输出完整传递给命令。然而，发现该进程始终处于 write、read 均为 0 的状态，但能够完成评测，疑似 iotop 无法对其进行分析。无论如何，2 并发评测并不会引起服务器崩溃。</p><p>同时，也手动模拟了提交评测 + 文件上传的并发：单独运行 daemon.py ，同时启动 32 并发的 11.8MB 文件上传，并未引发崩溃。</p><h3 id="concluison" tabindex="-1"><a class="header-anchor" href="#concluison"><span>Concluison</span></a></h3><p>测试了可能的并发情况，服务器响应均正常，并且在实际情况下，性能理应有很大的冗余。</p><h2 id="solution" tabindex="-1"><a class="header-anchor" href="#solution"><span>Solution</span></a></h2><p>No Solution，but countermeasures。既然无法复现 crash 以验证解决方法的有效性，那么就无法得出 solution。不过，倒是可以提高错误恢复的速度：<strong>设置告警</strong>。</p>`,46)]))}const y=i(p,[["render",r],["__file","oj-crash-debug.html.vue"]]),F=JSON.parse('{"path":"/work/ics/oj-crash-debug.html","title":"评测服务器崩溃调试","lang":"en-US","frontmatter":{"cover":"/assets/images/work/ics/oj-crash-debug/cover.png","icon":"pen-to-square","date":"2024-10-15T00:00:00.000Z","category":["service test"],"tag":["web-backend","qcloud","testing"],"star":true,"sticky":true,"excerpt":"<p> 分析评测服务器的 crash 信息，进行压力测试，并给出对策。 </p>","description":"评测服务器崩溃调试 封面为此时的心理状态 😞。​ 搭建的评测服务器在实际运行过程中屡次出现IO利用过高，系统卡死的情况。由于模拟并发的困难，于是按照网路上搜寻到的方法，进行了若干次无法验证的尝试，包括但不限于：减少 gunicorn worker 数量、改用 gevent 模式。不幸的是，服务器仍于2024年10月15日17时15分再次崩溃。痛定思痛...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://zhangmxxx.github.io/BlogSite/work/ics/oj-crash-debug.html"}],["meta",{"property":"og:site_name","content":"Site MallocSimenons"}],["meta",{"property":"og:title","content":"评测服务器崩溃调试"}],["meta",{"property":"og:description","content":"评测服务器崩溃调试 封面为此时的心理状态 😞。​ 搭建的评测服务器在实际运行过程中屡次出现IO利用过高，系统卡死的情况。由于模拟并发的困难，于是按照网路上搜寻到的方法，进行了若干次无法验证的尝试，包括但不限于：减少 gunicorn worker 数量、改用 gevent 模式。不幸的是，服务器仍于2024年10月15日17时15分再次崩溃。痛定思痛..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://zhangmxxx.github.io/BlogSite/assets/images/work/ics/oj-crash-debug/cover.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://zhangmxxx.github.io/BlogSite/assets/images/work/ics/oj-crash-debug/cover.png"}],["meta",{"name":"twitter:image:alt","content":"评测服务器崩溃调试"}],["meta",{"property":"article:tag","content":"web-backend"}],["meta",{"property":"article:tag","content":"qcloud"}],["meta",{"property":"article:tag","content":"testing"}],["meta",{"property":"article:published_time","content":"2024-10-15T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"评测服务器崩溃调试\\",\\"image\\":[\\"https://zhangmxxx.github.io/BlogSite/assets/images/work/ics/oj-crash-debug/cpu-ram.png\\",\\"https://zhangmxxx.github.io/BlogSite/assets/images/work/ics/oj-crash-debug/network.png\\",\\"https://zhangmxxx.github.io/BlogSite/assets/images/work/ics/oj-crash-debug/io.png\\",\\"https://zhangmxxx.github.io/BlogSite/assets/images/work/ics/oj-crash-debug/parallel-iotop.png\\"],\\"datePublished\\":\\"2024-10-15T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"MallocSimenons\\",\\"url\\":\\"https://zhangmxxx.github.io/BlogSite/intro.html\\"}]}"]]},"headers":[{"level":2,"title":"Crashing Snapshot","slug":"crashing-snapshot","link":"#crashing-snapshot","children":[{"level":3,"title":"Server Monitor","slug":"server-monitor","link":"#server-monitor","children":[]},{"level":3,"title":"Gunicorn Log","slug":"gunicorn-log","link":"#gunicorn-log","children":[]}]},{"level":2,"title":"Analysis","slug":"analysis","link":"#analysis","children":[{"level":3,"title":"Write Rate","slug":"write-rate","link":"#write-rate","children":[]},{"level":3,"title":"Read Rate","slug":"read-rate","link":"#read-rate","children":[]}]},{"level":2,"title":"Test & Reproduce","slug":"test-reproduce","link":"#test-reproduce","children":[{"level":3,"title":"File Upload","slug":"file-upload","link":"#file-upload","children":[]},{"level":3,"title":"Result Query","slug":"result-query","link":"#result-query","children":[]},{"level":3,"title":"Docker Run","slug":"docker-run","link":"#docker-run","children":[]},{"level":3,"title":"Concluison","slug":"concluison","link":"#concluison","children":[]}]},{"level":2,"title":"Solution","slug":"solution","link":"#solution","children":[]}],"readingTime":{"minutes":8.59,"words":2576},"filePathRelative":"work/ics/oj-crash-debug.md","localizedDate":"October 15, 2024","autoDesc":true}');export{y as comp,F as data};
